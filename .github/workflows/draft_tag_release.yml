on:
  push:
    # Sequence of patterns matched against refs/tags
    tags:
      - '*'

name: Draft Tag Release

jobs:
  build:
    name: Create Draft Release
    runs-on: ubuntu-latest
    steps:
      - name: Create Draft Release
        id: create_draft_release
        uses: actions/create-release@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} # This token is provided by Actions, you do not need to create your own token
        with:
          tag_name: ${{ github.ref }}
          release_name: ${{ github.ref }}
          body: |
            ### Do not publish this release until all of the artifacts have been uploaded by CI, and you've verified them according to the Release process. (Then remove this text block.)
            --------
            
            `warzone2100_win_x86_installer.exe` -- The main Windows build (full installer)
            `warzone2100_win_x86_portable.exe` -- The portable version of the Windows build (self contained -- install it anywhere!)
            `warzone2100_macOS.zip`  -- For macOS (10.10+)
            `warzone2100_src.tar.xz` -- The tarball for Linux / BSD / whatever systems. (full source / data)

            **IMPORTANT: To build from source, use the warzone2100_src.tar.xz tarball.**
            > The auto-generated GitHub "_Source code (zip) / (tar.gz)_" links do **_not_** include the Git-based autorevision information.
          draft: true
          prerelease: false
